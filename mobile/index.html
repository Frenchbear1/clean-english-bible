<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Aesthetic Bible</title>
    <link rel="icon" href="../icon.ico" />
    <link rel="icon" type="image/png" sizes="512x512" href="../icon.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="../icon-180.png" />
    <link rel="manifest" href="./manifest.webmanifest" />
    <link rel="stylesheet" href="./styles.mobile.css" />
  </head>
  <body>
    <div class="app-shell">
      <div class="window-bar">
        <div class="window-title-wrap">
          <div class="window-title">Aesthetic Bible</div>
          <button class="auth-btn" id="transferToggle" type="button" aria-label="Import or export data" title="Import / Export">
            <span class="auth-icon" aria-hidden="true">‚§¥</span>
          </button>
        </div>
        <div class="votd" id="verseOfDay">Verse of the day</div>
        <div class="window-controls">
          <button class="window-btn" id="appMinimize" type="button" aria-label="Minimize">‚îÄ</button>
          <button class="window-btn" id="appMaximize" type="button" aria-label="Maximize">‚ñ¢</button>
          <button class="window-btn danger" id="appClose" type="button" aria-label="Close">‚úï</button>
        </div>
      </div>
      <div class="mobile-tabs">
        <div class="view-switch">
          <button class="tab active" data-view="read">Read</button>
          <button class="tab" data-view="highlights">Highlights</button>
          <button class="tab" data-view="favorites">Favorites</button>
          <button class="tab" data-view="memorize">Memorize</button>
          <button class="tab" data-view="notes">Notes</button>
        </div>
      </div>
      <header class="topbar">
        <div class="topbar-actions"></div>
        <div class="topbar-controls highlight-toolbar" id="topbarControls">
          <div class="select-shell" data-select="bookSelect">
            <div class="select-label">Book</div>
            <select id="bookSelect" class="native-select"></select>
            <button class="select-trigger" type="button" aria-haspopup="listbox"></button>
            <div class="select-menu" hidden></div>
          </div>
          <div class="select-shell" data-select="chapterSelect">
            <div class="select-label">Chapter</div>
            <select id="chapterSelect" class="native-select"></select>
            <button class="select-trigger" type="button" aria-haspopup="listbox"></button>
            <div class="select-menu" hidden></div>
          </div>
          <div class="select-shell" data-select="verseSelect">
            <div class="select-label">Verse</div>
            <select id="verseSelect" class="native-select"></select>
            <button class="select-trigger" type="button" aria-haspopup="listbox"></button>
            <div class="select-menu" hidden></div>
          </div>
          <button class="ghost" id="notesToggle" type="button" aria-pressed="false">Notes: Off</button>
          <div class="select-shell translation" data-select="translationSelect">
            <div class="select-label">Translation</div>
            <select id="translationSelect" class="native-select"></select>
            <button class="select-trigger" type="button" aria-haspopup="listbox"></button>
            <div class="select-menu" hidden></div>
          </div>
        </div>
      </header>

      <section class="mobile-quick">
        <button class="votd pill" id="mobileVotd" type="button">Verse of the day</button>
        <button class="pill" id="mobileNotesToggle" type="button" aria-pressed="false">Notes: Off</button>
        <button class="auth-btn" id="mobileTransferToggle" type="button" aria-label="Import or export data" title="Import / Export">
          <span class="auth-icon" aria-hidden="true">‚§¥</span>
        </button>
      </section>

      <section class="controls">
        <div class="status" id="statusLine">Loading NIV‚Ä¶</div>
      </section>

      <main class="view" id="view-read" data-view="read">
        <div class="cards" id="verseList"></div>
        <div class="chapter-nav">
          <button class="ghost nav-btn" id="prevChapterBtn" type="button">‚Äπ Back</button>
          <button class="ghost nav-btn" id="nextChapterBtn" type="button">Next ‚Ä∫</button>
        </div>
        <div class="search-results" id="searchResults" hidden>
          <div class="results-header">
            <div>Search results</div>
            <div class="muted" id="resultsCount"></div>
          </div>
          <div class="results-list" id="resultsList"></div>
        </div>
      </main>

      <main class="view" id="view-highlights" data-view="highlights" hidden>
        <div class="highlight-toolbar">
          <div class="select-shell" data-select="highlightFilter">
            <div class="select-label">Filter color</div>
            <select id="highlightFilter" class="native-select">
              <option value="all">All colors</option>
            </select>
            <button class="select-trigger" type="button" aria-haspopup="listbox"></button>
            <div class="select-menu" hidden></div>
          </div>
          <div class="select-shell" data-select="highlightSort">
            <div class="select-label">Sort by</div>
            <select id="highlightSort" class="native-select">
              <option value="recency">Recency</option>
              <option value="oldest">Oldest</option>
              <option value="book">Book order</option>
              <option value="color">Color group</option>
            </select>
            <button class="select-trigger" type="button" aria-haspopup="listbox"></button>
            <div class="select-menu" hidden></div>
          </div>
        </div>
        <div class="cards" id="highlightList"></div>
      </main>

      <main class="view" id="view-favorites" data-view="favorites" hidden>
        <div class="highlight-toolbar">
          <div class="select-shell" data-select="favoriteFilter">
            <div class="select-label">Filter color</div>
            <select id="favoriteFilter" class="native-select">
              <option value="all">All colors</option>
            </select>
            <button class="select-trigger" type="button" aria-haspopup="listbox"></button>
            <div class="select-menu" hidden></div>
          </div>
          <div class="select-shell" data-select="favoriteSort">
            <div class="select-label">Sort by</div>
            <select id="favoriteSort" class="native-select">
              <option value="recency">Recency</option>
              <option value="oldest">Oldest</option>
              <option value="book">Book order</option>
              <option value="color">Color group</option>
            </select>
            <button class="select-trigger" type="button" aria-haspopup="listbox"></button>
            <div class="select-menu" hidden></div>
          </div>
        </div>
        <div class="cards" id="favoriteList"></div>
      </main>

      <main class="view" id="view-memorize" data-view="memorize" hidden>
        <div class="memorize-toolbar">
          <div class="select-shell" data-select="memorizeSort">
            <div class="select-label">Sort by</div>
            <select id="memorizeSort" class="native-select">
              <option value="recency">Recency</option>
              <option value="oldest">Oldest</option>
              <option value="book">Book order</option>
            </select>
            <button class="select-trigger" type="button" aria-haspopup="listbox"></button>
            <div class="select-menu" hidden></div>
          </div>
          <div class="select-shell" data-select="startupSelect">
            <div class="select-label">Startup verse/group</div>
            <select id="startupSelect" class="native-select"></select>
            <button class="select-trigger" type="button" aria-haspopup="listbox"></button>
            <div class="select-menu" hidden></div>
          </div>
          <label class="toggle">
            <span>Show on startup</span>
            <input id="startupToggle" type="checkbox" />
            <span class="toggle-ui" aria-hidden="true"></span>
          </label>
        </div>
        <div class="cards" id="memorizeList"></div>
      </main>

      <main class="view" id="view-notes" data-view="notes" hidden>
        <div class="highlight-toolbar">
          <div class="select-shell" data-select="notesSort">
            <div class="select-label">Sort by</div>
            <select id="notesSort" class="native-select">
              <option value="recency">Recency</option>
              <option value="oldest">Oldest</option>
              <option value="book">Book order</option>
            </select>
            <button class="select-trigger" type="button" aria-haspopup="listbox"></button>
            <div class="select-menu" hidden></div>
          </div>
        </div>
        <div class="cards" id="notesList"></div>
      </main>

      <div class="palette-floating" id="palette" hidden>
        <div class="palette-title">Highlight color</div>
        <div class="palette-row">
          <div class="palette-grid" id="paletteGrid"></div>
          <button id="removeHighlightPill" class="pill" type="button">Remove</button>
        </div>
        <div class="palette-row palette-actions">
          <button id="favoriteBtn" class="pill" type="button">‚òÖ Favorite</button>
          <button id="memorizeBtn" class="pill" type="button">üß† Memorize</button>
          <button id="noteBtn" class="pill" type="button">‚úé Note</button>
          <button id="crossRefBtn" class="pill" type="button">üìñ Cross-refs</button>
          <button id="copyBtn" class="pill" type="button">üìã Copy</button>
          <button id="toolsBtn" class="pill" type="button">üß∞ Tools</button>
        </div>
      </div>

    </div>

    <button class="ghost xref-floating" id="xrefBackFloating" type="button" hidden>Go back</button>
    <div class="search-fab" id="searchFab" aria-hidden="true">
      <button class="search-fab-btn" id="searchFabBtn" type="button" aria-label="Search">üîç</button>
      <div class="search-fab-panel" id="searchFabPanel" hidden>
        <input class="search-fab-input" id="searchFabInput" type="search" placeholder="Search‚Ä¶" autocomplete="off" />
      </div>
    </div>

    <div class="startup-overlay" id="startupOverlay" hidden>
      <div class="startup-card" id="startupCard" role="dialog" aria-modal="true" aria-labelledby="startupTitle">
        <div class="startup-header">
          <div class="startup-label">Memorize</div>
          <div class="window-controls">
            <button class="window-btn" id="windowMinimize" type="button" aria-label="Minimize">‚îÄ</button>
            <button class="window-btn" id="windowMaximize" type="button" aria-label="Maximize">‚ñ¢</button>
            <button class="window-btn danger" id="windowClose" type="button" aria-label="Close">‚úï</button>
          </div>
        </div>
        <div class="startup-title" id="startupTitle">Verse for today</div>
        <div class="startup-reference" id="startupReference">Loading‚Ä¶</div>
        <div class="startup-text" id="startupText">Preparing your verse.</div>
        <div class="startup-actions">
          <button class="primary" id="startupContinue" type="button">Continue</button>
        </div>
      </div>
    </div>

    <div class="transfer-modal" id="transferModal" hidden>
      <div class="transfer-card" role="dialog" aria-modal="true" aria-labelledby="transferTitle">
        <div class="transfer-header">
          <div class="transfer-title" id="transferTitle">Import / Export</div>
          <button class="ghost transfer-close" id="transferClose" type="button" aria-label="Close">‚úï</button>
        </div>
        <div class="transfer-stack">
          <div class="transfer-panel">
            <div class="transfer-label">Export</div>
            <div class="transfer-desc">Download a JSON backup of your highlights, favorites, notes, and settings.</div>
            <button class="primary" id="exportDataBtn" type="button">Download + Share JSON</button>
          </div>
          <div class="transfer-panel">
            <div class="transfer-label">Import</div>
            <div class="transfer-desc">Choose a JSON backup to merge with data on this device.</div>
            <input class="transfer-file" id="importDataFile" type="file" accept="application/json" />
            <button class="primary" id="importDataBtn" type="button">Import JSON</button>
          </div>
        </div>
        <div class="transfer-status" id="transferStatus" aria-live="polite"></div>
      </div>
    </div>

    <div class="tools-modal" id="toolsModal" hidden>
      <div class="tools-card" role="dialog" aria-modal="true" aria-labelledby="toolsTitle">
        <div class="tools-header">
          <div class="tools-title" id="toolsTitle">Tools</div>
          <button class="ghost tools-close" id="toolsClose" type="button" aria-label="Close">‚úï</button>
        </div>
        <div class="tools-meta" id="toolsMeta"></div>
        <div class="tools-section">
          <div class="tools-section-title">Search the selected reference</div>
          <div class="tools-list tools-search-grid" id="toolsResults"></div>
        </div>
        <div class="tools-status" id="toolsStatus" aria-live="polite">
          <span id="toolsStatusText"></span>
          <button class="ghost tools-reset" id="resetToolsBtn" type="button" hidden>Reset tools</button>
        </div>
      </div>
    </div>

    <script type="module" src="./app.mobile.js"></script>
  </body>
</html>
